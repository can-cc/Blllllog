title: fiddler调试问题小结
date: 2015-07-27 20:31:36
tags:
- fiddler
---
今天调试一个前端验证码的时候出现了一个问题，在wifi测试环境下验证码有时候出不来，在4g网络下总是能出来，原本以为只是本地网络的问题，但是在老大的帮助下终于发现了问题。下面是一点记录：

首先分析问题，在本地环境调试，代码都一样，但是本地环境的验证码总是能刷出来，测试环境不一定出来，唯一的不同点是域名。

于是安装了一个nginx做反向代理把gulp服务映射到80端口，再用fiddler解释域名，具体是再fiddler右边的栏目中添加解析。

需要注意解析了域名之后需要把nginx的server_name改为域名

然后还是没有重现问题

用weinre调试也没有调试出来

准备用weinre拿上去调测试环境的，然后突然机智地想到用fiddler抓包看看，终于发现了问题

原来在测试环境中，验证码与html文件同时向服务器发出了请求，两个请求之间的时间过短，而后台做了保护处理，抛出过频繁处理。

呵呵
